---
layout: post
title: "Xcode16 pod init报错问题解决"
date: 2024-12-05 22:00:00 +0800
comments: true
tags: Note
---

近期想要测试一段代码，使用Xcode16创建了一个demo工程，在初始化Podfile的时候发现报错。使用的是 `pod init` 错误信息如下：

```
RuntimeError - `PBXGroup` attempted to initialize an object with unknown ISA `PBXFileSystemSynchronizedRootGroup` from attributes: `{"isa"=>"PBXFileSystemSynchronizedRootGroup", "exceptions"=>["5D718EB02D01ED9C00394B05"], "path"=>"DemoApp", "sourceTree"=>"<group>"}`
If this ISA was generated by Xcode please file an issue: https://github.com/CocoaPods/Xcodeproj/issues/new
```

在 CocoaPods 的仓库找到一个一样的错误[issue](https://github.com/CocoaPods/CocoaPods/issues/12583#issuecomment-2357470707)， 按照上面的步骤顺利的解决了，这里记录一下解决的过程。

首先将项目目录转换为Group

![convert_to_group.png](/images/xcode16-with-cocoapods/convert_to_group.png)

对比了一下修改前后的 `project.pbxproj` 内容，发现报错的主要原因是 `PBXFileSystemSynchronizedRootGroup` 这个 [Xcodeproj](https://github.com/CocoaPods/Xcodeproj) 无法识别。

![xcode_project_diff.png](/images/xcode16-with-cocoapods/xcode_project_diff.png)

修改完成后，再次执行 `pod init` 还是报错。

```
[!] [!] Xcodeproj doesn't know about the following attributes {"minimizedProjectReferenceProxies"=>"1", "preferredProjectObjectVersion"=>"77"} for the 'PBXProject' isa.
If this attribute was generated by Xcode please file an issue: https://github.com/CocoaPods/Xcodeproj/issues/new

....

`initialize_from_file': [Xcodeproj] Unknown object version (77). (RuntimeError)
```

解决办法：

（1）删除下面两行

```
minimizedProjectReferenceProxies = 1;
preferredProjectObjectVersion = 77;
```

（2）修改 Xcode 的兼容版本

```
将 objectVersion = 77; 改为 objectVersion = 56;
```

关于这个版本的说明可以参考：[設定 Xcode 的專案相容版本 (Project-Format)](https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%A8%AD%E5%AE%9A-xcode-%E7%9A%84%E5%B0%88%E6%A1%88%E7%9B%B8%E5%AE%B9%E7%89%88%E6%9C%AC-project-format-efaa08e1d304)


### 参考资料

- 1、[pod init failed in Xcode 16 #12583](https://github.com/CocoaPods/CocoaPods/issues/12583#issuecomment-2357470707)

- 2、[[Xcodeproj] Unknown object version. Help Please #10604](https://github.com/CocoaPods/CocoaPods/issues/10604)

- 2、[設定 Xcode 的專案相容版本 (Project-Format)](https://medium.com/%E5%BD%BC%E5%BE%97%E6%BD%98%E7%9A%84-swift-ios-app-%E9%96%8B%E7%99%BC%E5%95%8F%E9%A1%8C%E8%A7%A3%E7%AD%94%E9%9B%86/%E8%A8%AD%E5%AE%9A-xcode-%E7%9A%84%E5%B0%88%E6%A1%88%E7%9B%B8%E5%AE%B9%E7%89%88%E6%9C%AC-project-format-efaa08e1d304)